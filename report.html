<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Response</title>

  <link href="assets/full.min.css" rel="stylesheet" type="text/css" />
  <script src="assets/daisyui.js"></script>

</head>

<body class="p-6">
  <div class="container mx-auto">
    <div class="card shadow-lg p-6 rounded-lg">

      <!-- images -->
      <div class="carousel carousel-center rounded-box" id="images">
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1559703248-dcaaec9fab78.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1565098772267-60af42b81ef2.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1572635148818-ef6fd45eb394.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1494253109108-2e30c049369b.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1550258987-190a2d41a8ba.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1559181567-c3190ca9959b.webp" alt="Pizza" />
        </div>
        <div class="carousel-item">
          <img src="https://img.daisyui.com/images/stock/photo-1601004890684-d8cbf643f5f2.webp" alt="Pizza" />
        </div>
      </div>

      <h2 class="text-4xl font-bold mb-4 mt-2" id="title"></h2>

      <div class="mb-4">
                <h3 class="text-1xl text-gray-500 font-semibold" id="description">
                  <div class="skeleton h-4 w-full mb-1"></div>
                  <div class="skeleton h-4 w-full mb-1"></div>
                  <div class="skeleton h-4 w-5/6"></div>
                </h3>
            </div>

            <!-- sources -->
      <div class="mb-4">
        <!-- show favicons of the sources and when clicked axpand and show the link -->
         <div class="inline-flex space-x-2" id="sourceIcons">
          <img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-6 h-6 rounded-full" />
          <img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-6 h-6 rounded-full" />
          <img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-6 h-6 rounded-full" />
          <img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-6 h-6 rounded-full" />
          <img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-6 h-6 rounded-full" />

          <!-- arrow button -->
          <button class="btn btn-ghost btn-sm" id="expandSources">Show sources</button>
        </div>
      </div>

        <!-- expanded links, show as smal containers with title; use a carousel -->
        <div class="carousel carousel-center rounded-box mb-4 hidden" id="sources">
          <div class="carousel-item bg-gray-900 p-4 rounded-lg w-48 mx-2">
            <div class="flex flex-col space-y-2">
              <h4 class="font-semibold">Google is a search engine</h4>
              <a href="https://www.google.com" target="_blank" class="text-blue-500 inline-flex"><img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-5 h-5 rounded-full mr-2" /> google.com</a>
            </div>
          </div>
          <div class="carousel-item bg-gray-900 p-4 rounded-lg w-48 mx-2">
            <div class="flex flex-col space-y-2">
              <h4 class="font-semibold">Google is a search engine</h4>
              <a href="https://www.google.com" target="_blank" class="text-blue-500 inline-flex"><img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-5 h-5 rounded-full mr-2" /> google.com</a>
            </div>
          </div>
          <div class="carousel-item bg-gray-900 p-4 rounded-lg w-48 mx-2">
            <div class="flex flex-col space-y-2">
              <h4 class="font-semibold">Google is a search engine</h4>
              <a href="https://www.google.com" target="_blank" class="text-blue-500 inline-flex"><img src="https://www.google.com/s2/favicons?domain=www.google.com" alt="Google" class="w-5 h-5 rounded-full mr-2" /> google.com</a>
            </div>
          </div>
      </div>

      <br>

      <!-- answers -->
      <div class="mb-4" id="answers">
        <!-- skeleton -->
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/3"></div>
          <div class="skeleton h-4 w-3/4"></div>
          <div class="skeleton h-4 w-4/5"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/3"></div>
          <div class="skeleton h-4 w-3/4"></div>
          <div class="skeleton h-4 w-4/5"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/3"></div>
          <div class="skeleton h-4 w-3/4"></div>
          <div class="skeleton h-4 w-4/5"></div>
        </div>
      </div>

      <br>

      <div class="mb-4" id="sections">

        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/2"></div>
          <div class="skeleton h-4 w-5/6"></div>
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-full"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/2"></div>
          <div class="skeleton h-4 w-5/6"></div>
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-full"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/2"></div>
          <div class="skeleton h-4 w-5/6"></div>
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-full"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/2"></div>
          <div class="skeleton h-4 w-5/6"></div>
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-full"></div>
        </div>
        <div class="flex flex-col space-y-2 mb-5">
          <div class="skeleton h-4 w-1/2"></div>
          <div class="skeleton h-4 w-5/6"></div>
          <div class="skeleton h-4 w-full"></div>
          <div class="skeleton h-4 w-full"></div>
        </div>
      </div>
    </div>
  </div>



  <script>
    const title = document.getElementById('title');
    const description = document.getElementById('description');
    const images = document.getElementById('images');
    const content = document.getElementById('sections');
    const answers = document.getElementById('answers');

    const emojis = {
  ":school_satchel:": "ðŸŽ’",
  ":mortar_board:": "ðŸŽ“",
  ":flags:": "ðŸŽ",
  ":fireworks:": "ðŸŽ†",
  ":sparkler:": "ðŸŽ‡",
  ":wind_chime:": "ðŸŽ",
  ":rice_scene:": "ðŸŽ‘",
  ":jack_o_lantern:": "ðŸŽƒ",
  ":ghost:": "ðŸ‘»",
  ":santa:": "ðŸŽ…",
  ":christmas_tree:": "ðŸŽ„",
  ":gift:": "ðŸŽ",
  ":bell:": "ðŸ””",
  ":no_bell:": "ðŸ”•",
  ":tanabata_tree:": "ðŸŽ‹",
  ":tada:": "ðŸŽ‰",
  ":confetti_ball:": "ðŸŽŠ",
  ":balloon:": "ðŸŽˆ",
  ":crystal_ball:": "ðŸ”®",
  ":cd:": "ðŸ’¿",
  ":dvd:": "ðŸ“€",
  ":floppy_disk:": "ðŸ’¾",
  ":camera:": "ðŸ“·",
  ":video_camera:": "ðŸ“¹",
  ":movie_camera:": "ðŸŽ¥",
  ":computer:": "ðŸ’»",
  ":tv:": "ðŸ“º",
  ":iphone:": "ðŸ“±",
  ":phone:": "â˜Žï¸",
  ":telephone:": "â˜Žï¸",
  ":telephone_receiver:": "ðŸ“ž",
  ":pager:": "ðŸ“Ÿ",
  ":fax:": "ðŸ“ ",
  ":minidisc:": "ðŸ’½",
  ":vhs:": "ðŸ“¼",
  ":sound:": "ðŸ”‰",
  ":speaker:": "ðŸ”ˆ",
  ":mute:": "ðŸ”‡",
  ":loudspeaker:": "ðŸ“¢",
  ":mega:": "ðŸ“£",
  ":hourglass:": "âŒ›",
  ":hourglass_flowing_sand:": "â³",
  ":alarm_clock:": "â°",
  ":watch:": "âŒš",
  ":radio:": "ðŸ“»",
  ":satellite:": "ðŸ“¡",
  ":loop:": "âž¿",
  ":mag:": "ðŸ”",
  ":mag_right:": "ðŸ”Ž",
  ":unlock:": "ðŸ”“",
  ":lock:": "ðŸ”’",
  ":lock_with_ink_pen:": "ðŸ”",
  ":closed_lock_with_key:": "ðŸ”",
  ":key:": "ðŸ”‘",
  ":bulb:": "ðŸ’¡",
  ":flashlight:": "ðŸ”¦",
  ":high_brightness:": "ðŸ”†",
  ":low_brightness:": "ðŸ”…",
  ":electric_plug:": "ðŸ”Œ",
  ":battery:": "ðŸ”‹",
  ":calling:": "ðŸ“²",
  ":email:": "ðŸ“§",
  ":mailbox:": "ðŸ“«",
  ":postbox:": "ðŸ“®",
  ":bath:": "ðŸ›€",
  ":bathtub:": "ðŸ›",
  ":shower:": "ðŸš¿",
  ":toilet:": "ðŸš½",
  ":wrench:": "ðŸ”§",
  ":nut_and_bolt:": "ðŸ”©",
  ":hammer:": "ðŸ”¨",
  ":seat:": "ðŸ’º",
  ":moneybag:": "ðŸ’°",
  ":yen:": "ðŸ’´",
  ":dollar:": "ðŸ’µ",
  ":pound:": "ðŸ’·",
  ":euro:": "ðŸ’¶",
  ":credit_card:": "ðŸ’³",
  ":money_with_wings:": "ðŸ’¸",
  ":e-mail:": "ðŸ“§",
  ":inbox_tray:": "ðŸ“¥",
  ":outbox_tray:": "ðŸ“¤",
  ":envelope:": "âœ‰ï¸",
  ":incoming_envelope:": "ðŸ“¨",
  ":postal_horn:": "ðŸ“¯",
  ":mailbox_closed:": "ðŸ“ª",
  ":mailbox_with_mail:": "ðŸ“¬",
  ":mailbox_with_no_mail:": "ðŸ“­",
  ":door:": "ðŸšª",
  ":smoking:": "ðŸš¬",
  ":bomb:": "ðŸ’£",
  ":gun:": "ðŸ”«",
  ":hocho:": "ðŸ”ª",
  ":pill:": "ðŸ’Š",
  ":syringe:": "ðŸ’‰",
  ":page_facing_up:": "ðŸ“„",
  ":page_with_curl:": "ðŸ“ƒ",
  ":bookmark_tabs:": "ðŸ“‘",
  ":bar_chart:": "ðŸ“Š",
  ":chart_with_upwards_trend:": "ðŸ“ˆ",
  ":chart_with_downwards_trend:": "ðŸ“‰",
  ":scroll:": "ðŸ“œ",
  ":clipboard:": "ðŸ“‹",
  ":calendar:": "ðŸ“†",
  ":date:": "ðŸ“…",
  ":card_index:": "ðŸ“‡",
  ":file_folder:": "ðŸ“",
  ":open_file_folder:": "ðŸ“‚",
  ":scissors:": "âœ‚ï¸",
  ":pushpin:": "ðŸ“Œ",
  ":paperclip:": "ðŸ“Ž",
  ":black_nib:": "âœ’ï¸",
  ":pencil2:": "âœï¸",
  ":straight_ruler:": "ðŸ“",
  ":triangular_ruler:": "ðŸ“",
  ":closed_book:": "ðŸ“•",
  ":green_book:": "ðŸ“—",
  ":blue_book:": "ðŸ“˜",
  ":orange_book:": "ðŸ“™",
  ":notebook:": "ðŸ““",
  ":notebook_with_decorative_cover:": "ðŸ“”",
  ":ledger:": "ðŸ“’",
  ":books:": "ðŸ“š",
  ":bookmark:": "ðŸ”–",
  ":name_badge:": "ðŸ“›",
  ":microscope:": "ðŸ”¬",
  ":telescope:": "ðŸ”­",
  ":newspaper:": "ðŸ“°",
  ":football:": "ðŸˆ",
  ":basketball:": "ðŸ€",
  ":soccer:": "âš½",
  ":baseball:": "âš¾",
  ":tennis:": "ðŸŽ¾",
  ":8ball:": "ðŸŽ±",
  ":rugby_football:": "ðŸ‰",
  ":bowling:": "ðŸŽ³",
  ":golf:": "â›³",
  ":mountain_bicyclist:": "ðŸšµ",
  ":bicyclist:": "ðŸš´",
  ":horse_racing:": "ðŸ‡",
  ":snowboarder:": "ðŸ‚",
  ":swimmer:": "ðŸŠ",
  ":surfer:": "ðŸ„",
  ":ski:": "ðŸŽ¿",
  ":spades:": "â™ ï¸",
  ":hearts:": "â™¥ï¸",
  ":clubs:": "â™£ï¸",
  ":diamonds:": "â™¦ï¸",
  ":gem:": "ðŸ’Ž",
  ":ring:": "ðŸ’",
  ":trophy:": "ðŸ†",
  ":musical_score:": "ðŸŽ¼",
  ":musical_keyboard:": "ðŸŽ¹",
  ":violin:": "ðŸŽ»",
  ":space_invader:": "ðŸ‘¾",
  ":video_game:": "ðŸŽ®",
  ":black_joker:": "ðŸƒ",
  ":flower_playing_cards:": "ðŸŽ´",
  ":game_die:": "ðŸŽ²",
  ":dart:": "ðŸŽ¯",
  ":mahjong:": "ðŸ€„",
  ":clapper:": "ðŸŽ¬",
  ":memo:": "ðŸ“",
  ":pencil:": "ðŸ“",
  ":book:": "ðŸ“–",
  ":art:": "ðŸŽ¨",
  ":microphone:": "ðŸŽ¤",
  ":headphones:": "ðŸŽ§",
  ":trumpet:": "ðŸŽº",
  ":saxophone:": "ðŸŽ·",
  ":guitar:": "ðŸŽ¸",
  ":shoe:": "ðŸ‘ž",
  ":sandal:": "ðŸ‘¡",
  ":high_heel:": "ðŸ‘ ",
  ":lipstick:": "ðŸ’„",
  ":boot:": "ðŸ‘¢",
  ":shirt:": "ðŸ‘•",
  ":tshirt:": "ðŸ‘•",
  ":necktie:": "ðŸ‘”",
  ":womans_clothes:": "ðŸ‘š",
  ":dress:": "ðŸ‘—",
  ":running_shirt_with_sash:": "ðŸŽ½",
  ":jeans:": "ðŸ‘–",
  ":kimono:": "ðŸ‘˜",
  ":bikini:": "ðŸ‘™",
  ":ribbon:": "ðŸŽ€",
  ":tophat:": "ðŸŽ©",
  ":crown:": "ðŸ‘‘",
  ":womans_hat:": "ðŸ‘’",
  ":mans_shoe:": "ðŸ‘ž",
  ":closed_umbrella:": "ðŸŒ‚",
  ":briefcase:": "ðŸ’¼",
  ":handbag:": "ðŸ‘œ",
  ":pouch:": "ðŸ‘",
  ":purse:": "ðŸ‘›",
  ":eyeglasses:": "ðŸ‘“",
  ":fishing_pole_and_fish:": "ðŸŽ£",
  ":coffee:": "â˜•",
  ":tea:": "ðŸµ",
  ":sake:": "ðŸ¶",
  ":baby_bottle:": "ðŸ¼",
  ":beer:": "ðŸº",
  ":beers:": "ðŸ»",
  ":cocktail:": "ðŸ¸",
  ":tropical_drink:": "ðŸ¹",
  ":wine_glass:": "ðŸ·",
  ":fork_and_knife:": "ðŸ´",
  ":pizza:": "ðŸ•",
  ":hamburger:": "ðŸ”",
  ":fries:": "ðŸŸ",
  ":poultry_leg:": "ðŸ—",
  ":meat_on_bone:": "ðŸ–",
  ":spaghetti:": "ðŸ",
  ":curry:": "ðŸ›",
  ":fried_shrimp:": "ðŸ¤",
  ":bento:": "ðŸ±",
  ":sushi:": "ðŸ£",
  ":fish_cake:": "ðŸ¥",
  ":rice_ball:": "ðŸ™",
  ":rice_cracker:": "ðŸ˜",
  ":rice:": "ðŸš",
  ":ramen:": "ðŸœ",
  ":stew:": "ðŸ²",
  ":oden:": "ðŸ¢",
  ":dango:": "ðŸ¡",
  ":egg:": "ðŸ¥š",
  ":bread:": "ðŸž",
  ":doughnut:": "ðŸ©",
  ":custard:": "ðŸ®",
  ":icecream:": "ðŸ¦",
  ":ice_cream:": "ðŸ¨",
  ":shaved_ice:": "ðŸ§",
  ":birthday:": "ðŸŽ‚",
  ":cake:": "ðŸ°",
  ":cookie:": "ðŸª",
  ":chocolate_bar:": "ðŸ«",
  ":candy:": "ðŸ¬",
  ":lollipop:": "ðŸ­",
  ":honey_pot:": "ðŸ¯",
  ":apple:": "ðŸŽ",
  ":green_apple:": "ðŸ",
  ":tangerine:": "ðŸŠ",
  ":lemon:": "ðŸ‹",
  ":cherries:": "ðŸ’",
  ":grapes:": "ðŸ‡",
  ":watermelon:": "ðŸ‰",
  ":strawberry:": "ðŸ“",
  ":peach:": "ðŸ‘",
  ":melon:": "ðŸˆ",
  ":banana:": "ðŸŒ",
  ":pear:": "ðŸ",
  ":pineapple:": "ðŸ",
  ":sweet_potato:": "ðŸ ",
  ":eggplant:": "ðŸ†",
  ":tomato:": "ðŸ…",
  ":corn:": "ðŸŒ½",
  ":house:": "ðŸ ",
  ":house_with_garden:": "ðŸ¡",
  ":school:": "ðŸ«",
  ":office:": "ðŸ¢",
  ":post_office:": "ðŸ£",
  ":hospital:": "ðŸ¥",
  ":bank:": "ðŸ¦",
  ":convenience_store:": "ðŸª",
  ":love_hotel:": "ðŸ©",
  ":hotel:": "ðŸ¨",
  ":wedding:": "ðŸ’’",
  ":church:": "â›ª",
  ":department_store:": "ðŸ¬",
  ":european_post_office:": "ðŸ¤",
  ":city_sunrise:": "ðŸŒ‡",
  ":city_sunset:": "ðŸŒ†",
  ":japanese_castle:": "ðŸ¯",
  ":european_castle:": "ðŸ°",
  ":tent:": "â›º",
  ":factory:": "ðŸ­",
  ":tokyo_tower:": "ðŸ—¼",
  ":gamepad:": "ðŸŽ®",
  ":dart:": "ðŸŽ¯",
  ":mahjong:": "ðŸ€„",
  ":chart:": "ðŸ’¹",
  ":currency_exchange:": "ðŸ’±",
  ":x:": "âŒ",
  ":o:": "â­•",
  ":recycle:": "â™»ï¸",
  ":white_check_mark:": "âœ…",
  ":eight_spoked_asterisk:": "âœ³ï¸",
  ":eight_pointed_black_star:": "âœ´ï¸",
  ":heart_decoration:": "ðŸ’Ÿ",
  ":vs:": "ðŸ†š",
  ":vibration_mode:": "ðŸ“³",
  ":mobile_phone_off:": "ðŸ“´",
  ":clock:": "ðŸ•°ï¸",
  ":hourglass:": "âŒ›",
  ":hourglass_flowing_sand:": "â³",
  ":alarm_clock:": "â°",
  ":watch:": "âŒš",
  ":game:": "ðŸŽ®",
  ":compass:": "ðŸ§­",
  ":atm:": "ðŸ§",
  ":put_litter_in_its_place:": "ðŸš®",
  ":potable_water:": "ðŸš°",
  ":mens:": "ðŸš¹",
  ":womens:": "ðŸšº",
  ":restroom:": "ðŸš»",
  ":baby_symbol:": "ðŸš¼",
  ":wc:": "ðŸš¾",
  ":passport_control:": "ðŸ›‚",
  ":customs:": "ðŸ›ƒ",
  ":baggage_claim:": "ðŸ›„",
  ":left_luggage:": "ðŸ›…",
  ":warning:": "âš ï¸",
  ":children_crossing:": "ðŸš¸",
  ":no_entry:": "â›”",
  ":no_entry_sign:": "ðŸš«",
  ":no_bicycles:": "ðŸš³",
  ":no_smoking:": "ðŸš­",
  ":do_not_litter:": "ðŸš¯",
  ":non-potable_water:": "ðŸš±",
  ":no_pedestrians:": "ðŸš·",
  ":no_mobile_phones:": "ðŸ“µ",
  ":underage:": "ðŸ”ž",
  ":radioactive:": "â˜¢ï¸",
  ":movie:": "ðŸŽ¦",
};


    function getData() {
      const url = './data.json';
      fetch(url)
        .then(response => response.json())
        .then(data => {
          console.log(data);
          main(data);
        })
        .catch(error => console.error(error));

    }

    function renderAnswer(data) {
        // if data.answer is a string
     if (typeof data.answer === 'object') {
        // if data.answer is an object

        // hide the description
        description.style.display = 'none';

      answers.innerHTML = Object.entries(data.answer).map(([key, value]) => {
        return `
                <div class="mb-2">
                    <h4 class="text-lg font-semibold">${key}</h4>
                    <p class="text-gray-500">${value}</p>
                </div>
            `;
      }).join('');
    } else  if (typeof data.answer === 'string') {
      console.log(data.answer);
        description.innerText = data.answer;

        // hide the answers
        answers.style.display = 'none';
    }
    }

    function renderSections(data) {
      
      sections.innerHTML = data.sections.map((section, index) => {
        return `
                <div class="mb-2">
                    <h4 class="text-lg font-semibold">${data.headings[index]}</h4>
                    <ul class="list-disc list-inside text-gray-500">
                        ${Object.entries(section).map(([key, value]) => {
          return `<li><strong>${key}</strong>: ${value}</li>`;
        }).join('')}
                    </ul>
                </div>
            `;
      }).join('');
    }

    function renderSources(data) {
      // render the sourceIcons
      sourceIcons.innerHTML = data.sources.map((source) => {
        return `<img src="https://www.google.com/s2/favicons?domain=${source.url}" alt="${source.url}" class="w-6 h-6 rounded-full" />`;
      }).join('');
      // add show sources button
      sourceIcons.innerHTML += `<button class="btn btn-ghost btn-sm" onclick="document.getElementById('sources').classList.toggle('hidden')">Show sources</button>`;	

      // render the sources
      sources.innerHTML = data.sources.map((source) => {
        let host = new URL(source.url).host;
        // remove www from the host
        host = host.replace('www.', '');
        return `
                <div class="carousel-item bg-gray-900 p-4 rounded-lg w-48 mx-1">
                    <div class="flex flex-col space-y-2">
                        <h4 class="font-semibold">${source.title}</h4>
                        <a href="${source.url}" target="_blank" class="text-blue-500 inline-flex"><img src="https://www.google.com/s2/favicons?domain=${source.url}" alt="${host}" class="w-5 h-5 rounded-full mr-2" /> ${host}</a>
                    </div>
                </div>
            `;
      }).join('');
    }

    function renderContent(data) {
      try {
        title.innerText = data.title;
      } catch (error) {
        console.error(error);
      }

      try {
        renderImages(data);
      } catch (error) {
        console.error(error);
      }
  
      try {
       renderAnswer(data);
      } catch (error) {
        console.error(error);
      }

      try {
        renderSections(data);
      } catch (error) {
        console.error(error);
      }

      try {
        renderSources(data);
      } catch (error) {
        console.error(error);
      }
    }

    function renderImages(data) {
      images.innerHTML = data.imageUrls.map((image) => {
        return `
                <div class="carousel-item h-80 w-auto">
                    <img class="object-contain" src="${image.image}" alt="${image.title}" onclick="window.open('${image.url}', '_blank')" title="${image.title}" height="100%" width="100%" onerror="this.parentElement.remove();" />
                </div>
            `;
      }).join('');

    }



    function main(data) {

      // loop through the data and replace the emojis with the actual emojis
      // convert json to string
      let dataString = JSON.stringify(data);
      // loop through the emojis and replace them with the actual emojis
      for (const [key, value] of Object.entries(emojis)) {
        dataString = dataString.replace(new RegExp(key, 'g'), value);
      }
      // convert the string back to json
      data = JSON.parse(dataString);

      renderContent(data);
    }

    function init() {
      // get the q parameter from the url, e.g. ?q=apple
      const urlParams = new URLSearchParams(window.location.search);
      let q = urlParams.get('q');

      console.log(q);
      if (q) {
        // make each word in the query a title case
        q = q.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
        title.innerText = q;
      }


      getData();
    }

    init();
  </script>

</body>

</html>